{% extends "base.html" %}

{% block title %}Home - {{ app_name }}{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-content">
        <div class="hero-badge">Fresh from Local Farms</div>
        <h1 class="hero-title">
            Farm Fresh<br>
            <span class="gradient-text">Delivered to You</span>
        </h1>
        <p class="hero-description">
            Connect directly with local farmers for the freshest seasonal produce.
            Support sustainable agriculture and enjoy farm-to-table goodness.
        </p>
        <div class="hero-cta">
            <a href="/register" class="btn btn-primary btn-lg">
                <span>Get Started</span>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </a>
            <a href="#features" class="btn btn-outline-light btn-lg">Learn More</a>
        </div>
        <div class="hero-stats">
            <div class="stat-item">
                <span class="stat-number">500+</span>
                <span class="stat-label">Local Farmers</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <span class="stat-number">10K+</span>
                <span class="stat-label">Happy Customers</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat-item">
                <span class="stat-number">50K+</span>
                <span class="stat-label">Products Sold</span>
            </div>
        </div>
    </div>
    <div class="hero-visual">
        <div class="floating-card card-1">
            <div class="card-icon">ü•¨</div>
            <span>Fresh Vegetables</span>
        </div>
        <div class="floating-card card-2">
            <div class="card-icon">üçé</div>
            <span>Organic Fruits</span>
        </div>
        <div class="floating-card card-3">
            <div class="card-icon">ü•õ</div>
            <span>Farm Dairy</span>
        </div>
        <div class="floating-card card-4">
            <div class="card-icon">ü•ö</div>
            <span>Free-Range Eggs</span>
        </div>
        <div class="hero-circle"></div>
    </div>
</section>

<!-- Features Section -->
<section id="features" class="features-section">
    <div class="section-header">
        <span class="section-badge">Why Choose Us</span>
        <h2 class="section-title">The Best Way to Get Fresh Produce</h2>
        <p class="section-description">
            Experience the difference with farm-fresh products delivered straight to your door
        </p>
    </div>
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
            </div>
            <h3>100% Fresh & Organic</h3>
            <p>All products are sourced directly from certified organic farms, ensuring the highest quality and freshness.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                </svg>
            </div>
            <h3>Fast Delivery</h3>
            <p>Same-day delivery available for orders placed before noon. Fresh from farm to your table within hours.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
            </div>
            <h3>Support Local Farmers</h3>
            <p>Every purchase directly supports local farming families and promotes sustainable agriculture practices.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                </svg>
            </div>
            <h3>Fair Prices</h3>
            <p>No middlemen means better prices for you and fair compensation for farmers. Everyone wins!</p>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works-section">
    <div class="section-header">
        <span class="section-badge">Simple Process</span>
        <h2 class="section-title">How It Works</h2>
        <p class="section-description">
            Get started in just three easy steps
        </p>
    </div>
    <div class="steps-container">
        <div class="step-card">
            <div class="step-number">1</div>
            <div class="step-content">
                <h3>Browse & Select</h3>
                <p>Explore our wide selection of fresh produce from local farmers</p>
            </div>
        </div>
        <div class="step-connector"></div>
        <div class="step-card">
            <div class="step-number">2</div>
            <div class="step-content">
                <h3>Place Order</h3>
                <p>Add items to your cart and checkout securely</p>
            </div>
        </div>
        <div class="step-connector"></div>
        <div class="step-card">
            <div class="step-number">3</div>
            <div class="step-content">
                <h3>Enjoy Fresh</h3>
                <p>Receive farm-fresh products delivered to your doorstep</p>
            </div>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section">
    <div class="section-header">
        <span class="section-badge">Our Products</span>
        <h2 class="section-title">Browse by Category</h2>
    </div>
    <div class="categories-grid">
        <div class="category-card">
            <div class="category-icon">ü•¶</div>
            <h3>Vegetables</h3>
            <p>Fresh seasonal veggies</p>
        </div>
        <div class="category-card">
            <div class="category-icon">üçì</div>
            <h3>Fruits</h3>
            <p>Ripe & juicy fruits</p>
        </div>
        <div class="category-card">
            <div class="category-icon">üßÄ</div>
            <h3>Dairy</h3>
            <p>Farm-fresh dairy</p>
        </div>
        <div class="category-card">
            <div class="category-icon">ü•©</div>
            <h3>Meat</h3>
            <p>Quality meats</p>
        </div>
        <div class="category-card">
            <div class="category-icon">ü•ö</div>
            <h3>Eggs</h3>
            <p>Free-range eggs</p>
        </div>
        <div class="category-card">
            <div class="category-icon">üçØ</div>
            <h3>Honey</h3>
            <p>Pure local honey</p>
        </div>
        <div class="category-card">
            <div class="category-icon">üåø</div>
            <h3>Herbs</h3>
            <p>Fresh herbs</p>
        </div>
        <div class="category-card">
            <div class="category-icon">üåæ</div>
            <h3>Grains</h3>
            <p>Whole grains</p>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section">
    <div class="section-header">
        <span class="section-badge">Customer Stories</span>
        <h2 class="section-title">What Our Customers Say</h2>
    </div>
    <div class="testimonials-grid">
        <div class="testimonial-card">
            <div class="testimonial-rating">
                <span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span>
            </div>
            <p class="testimonial-text">
                "The quality of produce is incredible! I've never tasted tomatoes this fresh.
                It's like having a farm in my backyard."
            </p>
            <div class="testimonial-author">
                <div class="author-avatar">SJ</div>
                <div class="author-info">
                    <strong>Sarah Johnson</strong>
                    <span>Home Cook</span>
                </div>
            </div>
        </div>
        <div class="testimonial-card featured">
            <div class="testimonial-rating">
                <span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span>
            </div>
            <p class="testimonial-text">
                "As a chef, I need the best ingredients. Farmary delivers
                restaurant-quality produce right to my kitchen. Game changer!"
            </p>
            <div class="testimonial-author">
                <div class="author-avatar">MC</div>
                <div class="author-info">
                    <strong>Michael Chen</strong>
                    <span>Professional Chef</span>
                </div>
            </div>
        </div>
        <div class="testimonial-card">
            <div class="testimonial-rating">
                <span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span>
            </div>
            <p class="testimonial-text">
                "I love knowing exactly where my food comes from. The farmer profiles give me
                confidence in what I'm feeding my family."
            </p>
            <div class="testimonial-author">
                <div class="author-avatar">ER</div>
                <div class="author-info">
                    <strong>Emily Rodriguez</strong>
                    <span>Health Enthusiast</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="cta-content">
        <h2>Ready to Taste the Difference?</h2>
        <p>Join thousands of happy customers enjoying farm-fresh produce every day.</p>
        <div class="cta-buttons">
            <a href="/register" class="btn btn-white btn-lg">Create Free Account</a>
            <a href="/login" class="btn btn-outline-white btn-lg">Sign In</a>
        </div>
    </div>
    <div class="cta-decoration">
        <div class="cta-circle circle-1"></div>
        <div class="cta-circle circle-2"></div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
    // Check if user is already logged in - redirect based on role
    (function() {
        var accessToken = localStorage.getItem('access_token');
        var userStr = localStorage.getItem('user');

        if (accessToken && userStr) {
            try {
                var user = JSON.parse(userStr);
                var userRole = user.role || 'consumer';

                // Redirect based on user role
                switch (userRole) {
                    case 'admin':
                        window.location.href = '/admin/dashboard';
                        break;
                    case 'farmer':
                        window.location.href = '/farmer/dashboard';
                        break;
                    default:
                        window.location.href = '/dashboard';
                }
            } catch (e) {
                // Invalid user data, stay on home page
            }
        }
    })();

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Animate elements on scroll
    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animate-in');
            }
        });
    }, observerOptions);

    document.querySelectorAll('.feature-card, .step-card, .category-card, .testimonial-card').forEach(el => {
        observer.observe(el);
    });
</script>
{% endblock %}
