{
  "id": "US-002",
  "title": "User Login",
  "epic": "User Profile Management",
  "priority": "Must Have",
  "iteration": 1,
  "status": "pending",
  "description": "As a registered consumer, I want to log in to my account so that I can access my personalized dashboard, view my orders, and manage my profile.",
  "user_role": "Consumer",
  "business_value": "Provides secure access to user accounts, enabling personalized experience and order management.",
  "dependencies": ["US-001"],
  "acceptance_criteria": [
    {
      "id": "AC-002-1",
      "description": "User can access login page",
      "given": "User is on the homepage",
      "when": "User clicks on 'Log In' button",
      "then": "User is redirected to the login form"
    },
    {
      "id": "AC-002-2",
      "description": "User can log in with valid credentials",
      "given": "User is on the login page with a verified account",
      "when": "User enters correct email and password",
      "then": "User is redirected to personalized dashboard"
    },
    {
      "id": "AC-002-3",
      "description": "Login fails with incorrect credentials",
      "given": "User is on the login page",
      "when": "User enters incorrect email or password",
      "then": "Error message 'Invalid email or password' is displayed"
    },
    {
      "id": "AC-002-4",
      "description": "Login fails for unverified accounts",
      "given": "User has registered but not verified email",
      "when": "User attempts to log in",
      "then": "Error message 'Please verify your email before logging in' is displayed"
    },
    {
      "id": "AC-002-5",
      "description": "User can request password reset",
      "given": "User is on the login page",
      "when": "User clicks 'Forgot Password' and enters email",
      "then": "Password reset email is sent"
    },
    {
      "id": "AC-002-6",
      "description": "Session is maintained after login",
      "given": "User has successfully logged in",
      "when": "User navigates to different pages",
      "then": "User remains logged in"
    }
  ],
  "technical_notes": [
    "Implement JWT-based authentication",
    "Set appropriate token expiration (e.g., 24 hours)",
    "Implement refresh token mechanism",
    "Use HTTPS for all authentication requests",
    "Implement account lockout after 5 failed attempts"
  ],
  "api_endpoints": [
    {
      "method": "POST",
      "path": "/api/v1/auth/login",
      "description": "Authenticate user and return JWT token"
    },
    {
      "method": "POST",
      "path": "/api/v1/auth/forgot-password",
      "description": "Request password reset email"
    },
    {
      "method": "POST",
      "path": "/api/v1/auth/reset-password",
      "description": "Reset password with token"
    },
    {
      "method": "POST",
      "path": "/api/v1/auth/refresh-token",
      "description": "Refresh authentication token"
    }
  ],
  "test_cases": [
    {
      "id": "TC-002-1",
      "type": "positive",
      "title": "Successful login with valid credentials",
      "preconditions": ["User account exists and is verified"],
      "steps": [
        "Navigate to login page",
        "Enter email: 'john.doe@example.com'",
        "Enter password: 'SecurePass123!'",
        "Click 'Log In' button"
      ],
      "expected_result": "User is redirected to dashboard, JWT token is stored",
      "status": "pending"
    },
    {
      "id": "TC-002-2",
      "type": "negative",
      "title": "Login fails with incorrect password",
      "preconditions": ["User account exists"],
      "steps": [
        "Navigate to login page",
        "Enter email: 'john.doe@example.com'",
        "Enter password: 'WrongPassword'",
        "Click 'Log In' button"
      ],
      "expected_result": "Error message 'Invalid email or password' is displayed",
      "status": "pending"
    },
    {
      "id": "TC-002-3",
      "type": "negative",
      "title": "Login fails with non-existent email",
      "preconditions": ["Email is not registered"],
      "steps": [
        "Navigate to login page",
        "Enter email: 'nonexistent@example.com'",
        "Enter password: 'AnyPassword123!'",
        "Click 'Log In' button"
      ],
      "expected_result": "Error message 'Invalid email or password' is displayed (no info leakage)",
      "status": "pending"
    },
    {
      "id": "TC-002-4",
      "type": "negative",
      "title": "Login fails for unverified account",
      "preconditions": ["User registered but email not verified"],
      "steps": [
        "Navigate to login page",
        "Enter valid credentials",
        "Click 'Log In' button"
      ],
      "expected_result": "Error message about email verification is displayed",
      "status": "pending"
    },
    {
      "id": "TC-002-5",
      "type": "security",
      "title": "Account lockout after multiple failed attempts",
      "preconditions": ["User account exists"],
      "steps": [
        "Attempt login with wrong password 5 times"
      ],
      "expected_result": "Account is temporarily locked, user is informed",
      "status": "pending"
    },
    {
      "id": "TC-002-6",
      "type": "positive",
      "title": "Password reset flow works correctly",
      "preconditions": ["User account exists and is verified"],
      "steps": [
        "Click 'Forgot Password'",
        "Enter email",
        "Open reset email and click link",
        "Enter new password",
        "Submit form"
      ],
      "expected_result": "Password is updated, user can log in with new password",
      "status": "pending"
    }
  ],
  "story_points": 5,
  "created_date": "2025-12-10",
  "last_updated": "2025-12-10"
}
